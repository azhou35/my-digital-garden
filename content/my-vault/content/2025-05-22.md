---
title: "2025-05-22"
---

party rooftop 
- boat 
- rooftop 
- rooftop bar
- coktil bar

cokcktail menu:
- martini 


everyone submit their favorite memory w nitin 

- [ ] do connect
- [ ] debug queries
- [ ] prep for scale ecel

![[Pasted image 20250522134335.png]]

  
old v2
.create-or-alter function with (docstring = "Attaches customer information",folder = "Utils") Customer_Lookup_Function(T:(SubscriptionId:string)) {

T

| join kind=leftouter (

     cluster("Accia").database("CommonDims").Dim_Subscription

     | project SubscriptionId=SubscriptionGuid,

               CloudCustomerName,

               CloudCustomerGuid,

               CustomerName,

               CustomerType,

               OfferType,

               TPId

) on SubscriptionId

// Get internal subscription info

| join kind=leftouter  (

    cluster('servicetreepublic.westus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_AzureSubscription_Snapshot

    //cluster('genevareference.westcentralus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_AzureSubscription_Snapshot // Migration on Feb 2024

    | project SubscriptionId,

              ServiceName

) on SubscriptionId

// Project only useful values, calculate active cores

| extend  CustomerName=iff(CustomerType == "External", CloudCustomerName,

                             ServiceName)

| extend BillingType=iff(CustomerType == "Internal",  "Internal",

                         "External")

| project-away SubscriptionId1, SubscriptionId2, ServiceName

}

  
  
  

.create-or-alter function with (docstring = "Adds Fraud Columns",folder = "Utils") Add_Fraud_And_Compromise_v2(T:(SubscriptionId:string)) {

let customerSegTable = datatable(OfferId: string, customerSegment: string)

    [

    '','',

    'MS-AZR-0003P','Customer-Led',

    'MS-AZR-0015P','Internal',

    'MS-AZR-0017G','Customer-Led',

    'MS-AZR-0017P','Field-Led',

    'MS-AZR-0023P','Customer-Led',

    'MS-AZR-0025P','Benefit Programs',

    'MS-AZR-0029P','Benefit Programs',

    'MS-AZR-0036P', 'Sponsorship',

    'MS-AZR-0044P','Trial',

    'MS-AZR-0059P','Benefit Programs',

    'MS-AZR-0062P','Benefit Programs',

    'MS-AZR-0063P','Benefit Programs',

    'MS-AZR-0064P','Benefit Programs',

    'MS-AZR-0111P','Open',

    'MS-AZR-0136P','Sponsorship',

    'MS-AZR-0143P','Sponsorship',

    'MS-AZR-0145P','Field-Led',

    'MS-AZR-0146P','Field-Led',

    'MS-AZR-0148G','Field-Led',

    'MS-AZR-0148P','Field-Led',

    'MS-AZR-0159P','Field-Led',

    'MS-AZR-0170P','Benefit Programs',

    'MS-AZR-0243P','Sponsorship',

    'MS-AZR-159P','Field-Led',

    'MS-AZR-USGOV-0003P','Government',

    'MS-AZR-USGOV-0015P','Internal',

    'MS-AZR-USGOV-0017P','Government',

    'MS-AZR-USGOV-036P','Sponsorship',

    'MS-AZR-USGOV-0136P','Sponsorship',

    'MS-AZR-USGOV-0145P','Government',

    'MS-AZR-USGOV-0146P','Government',

    'MS-MC-AZR-0015P','Internal',

    'MS-MC-AZR-0017P','Field-Led',

    'MS-MC-AZR-0018P','Trial',

    'MS-MC-AZR-0033P','Monetary Commitment'

];

T

|join kind=leftouter (

cluster('Accia.kusto.windows.net').database('CommonDims').Product360CustomerSubscriptions

|extend isTempFraud = isTempFraud =="True"

|extend isTempAbuse= CurrentSubscriptionStatus =="DISABLED" and DeactivationReasonName == 'SERVICEABUSE' and not(isTempFraud)

|project SubscriptionId,OfferId,isTempAbuse,isTempFraud

) on SubscriptionId

| extend isFraud= isTempFraud==true and not(isempty(isTempFraud) )

| extend isAbuse = isTempAbuse == true and not(isempty(isTempAbuse))

| project-away isTempAbuse, isTempFraud

| join kind = leftouter (

cluster('azfraudpartners.westus.kusto.windows.net').database('AzureAntiFraud').API_UPAGetConfirmedUPAAzureSubscriptions

| extend isTempCompromise = true

| project-rename SubscriptionId=SubscriptionGuid

| project SubscriptionId, isTempCompromise, FirstUPALabelDateTime

) on SubscriptionId

|extend isCompromise = isTempCompromise==true and not(isempty(isTempCompromise ) )

| project-away  isTempCompromise

| join kind = leftouter customerSegTable on OfferId

}

problemstatement - is get them in place

Planned Maintenance Framework in Place
Huseyin is Prabhat of OAI

Phase 1 - August or October
By that date we need Planned Maintenance story in place
![[Pasted image 20250522155426.png]]

Thinka bout what you want Sagar to know about Planned maintenance
go to him w asks
how can we take what we do planned maintenance to oai to mai 
how do we take this to mai
if u were to have 25 minutes to saagar 
what would you like to present 
heres our vision 
next wed after that

Saagar wants to have unified view of Planned Maintenance
Take it into a structured program that works 
These are the dates for the rest of the week
Saagar x Annie 
Work with Saagar to do a 1:1

start ending Monday Fairwater
Owning being the representation 
