<!DOCTYPE html>
<html lang="en">
{{ partial "head.html" . }}

<body>
{{partial "search.html" .}}
<div class="singlePage">
    <!-- Begin actual content -->
    {{partial "header.html" .}}
    <article>
        <h1>All {{.Title}}</h1>
        {{with .Params.description}}
            <p>{{.}}</p>
        {{end}}
        {{ $allPages := .RegularPages }}
        {{ $publishedPages := where $allPages ".Params.publish" true }}
        <p>Total pages: {{ len $allPages }}, Published: {{ len $publishedPages }}</p>
        {{ if gt (len $publishedPages) 0 }}
            {{ $paginator := .Paginate ($publishedPages.ByLastmod.Reverse) }}
            {{partial "page-list.html" $paginator.Pages }}
            {{ template "_internal/pagination.html" .}}
        {{ else }}
            {{ $paginator := .Paginate ($allPages.ByLastmod.Reverse) }}
            {{partial "page-list.html" $paginator.Pages }}
            {{ template "_internal/pagination.html" .}}
        {{ end }}
    </article>
    {{partial "contact.html" .}}
</div>
</body>

</html>
